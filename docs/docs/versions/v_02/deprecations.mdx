---
sidebar_position: 2
sidebar_label: Deprecations and Breaking Changes
---
# Deprecations and Breaking Changes

This code contains a list of deprecations and removals in the `langchain` and `langchain-core` packages.

## Breaking changes in 0.2.0

As of release 0.2.0, `langchain` is required to be integration-agnostic. This means that code in `langchain`  should not by default instantiate any specific chat models, llms, embedding models, vectorstores etc; instead, the user will be required to specify those explicitly.

The following functions and classes require an explicit LLM to be passed as an argument:

- `langchain.agents.agent_toolkits.vectorstore.toolkit.VectorStoreToolkit`
- `langchain.agents.agent_toolkits.vectorstore.toolkit.VectorStoreRouterToolkit`
- `langchain.chains.openai_functions.get_openapi_chain`
- `langchain.chains.router.MultiRetrievalQAChain.from_retrievers`
- `langchain.indexes.VectorStoreIndexWrapper.query`
- `langchain.indexes.VectorStoreIndexWrapper.query_with_sources`
- `langchain.indexes.VectorStoreIndexWrapper.aquery_with_sources`
- `langchain.chains.flare.FlareChain`


The following classes now require passing an explicit Embedding model as an argument:

- `langchain.indexes.VectostoreIndexCreator`

The following code has been removed:

- `langchain.natbot.NatBotChain.from_default` removed in favor of the `from_llm` class method.


## Deprecations

We have two main types of deprecations:

1. Code that moved to another package. This usually requires only a change in the import statement and potentially installing a new package.
2. Code that is targeted for removal because there are better alternatives available.

## Code that moved to another package

Code that was moved from `langchain` into another package (e.g, `langchain-community`)

If you try to import it from `langchain`, the import will keep on working, but will raise a deprecation warning. The warning will provide a replacement import statement.

 ```shell
 python -c "from langchain.document_loaders.markdown import UnstructuredMarkdownLoader"
```

 ```shell
 LangChainDeprecationWarning: Importing UnstructuredMarkdownLoader from langchain.document_loaders is deprecated. Please replace deprecated imports:

 >> from langchain.document_loaders import UnstructuredMarkdownLoader

 with new imports of:

 >> from langchain_community.document_loaders import UnstructuredMarkdownLoader
```

We will continue supporting the imports in `langchain` until release 0.4 as long as the relevant package where the code lives is installed. (e.g., as long as `langchain_community` is installed.)

However, we advise for users to not rely on these imports and instead migrate to the new imports. To help with this process, we’re releasing a migration script via the LangChain CLI. See further instructions in migration guide.


## Code that is targeted for removal

Code that has better alternatives available and will eventually be removed, so there’s only a single way to do things. (e.g., `predict_messages` method in ChatModels has been deprecated in favor of `invoke`).

### astream events V1

If you are using `astream_events`, please review how to [migrate to astream events v2](/docs/versions/v_02/migrating_astream_events).

### langchain-core

Many of these were marked for removal in 0.2. We have bumped the removal to 0.3.

| module                                     | qualname                                   | since  | removal | alternative                                                                                                           |
|:-------------------------------------------|:-------------------------------------------|:-------|:--------|:----------------------------------------------------------------------------------------------------------------------|
| langchain_core.utils.loading               | try_load_from_hub                          | 0.1.30 | 0.3     | Using the hwchase17/langchain-hub repo for prompts is deprecated. Please use https://smith.langchain.com/hub instead. |
| langchain_core.language_models.base        | BaseLanguageModel.predict                  | 0.1.7  | 0.3.0   | invoke                                                                                                                |
| langchain_core.language_models.base        | BaseLanguageModel.predict_messages         | 0.1.7  | 0.3.0   | invoke                                                                                                                |
| langchain_core.language_models.base        | BaseLanguageModel.apredict                 | 0.1.7  | 0.3.0   | ainvoke                                                                                                               |
| langchain_core.language_models.base        | BaseLanguageModel.apredict_messages        | 0.1.7  | 0.3.0   | ainvoke                                                                                                               |
| langchain_core.tracers.schemas             | RunTypeEnum                                | 0.1.0  | 0.3.0   | Use string instead.                                                                                                   |
| langchain_core.tracers.schemas             | TracerSessionV1Base                        | 0.1.0  | 0.3.0   |                                                                                                                       |
| langchain_core.tracers.schemas             | TracerSessionV1Create                      | 0.1.0  | 0.3.0   |                                                                                                                       |
| langchain_core.tracers.schemas             | TracerSessionV1                            | 0.1.0  | 0.3.0   |                                                                                                                       |
| langchain_core.tracers.schemas             | TracerSessionBase                          | 0.1.0  | 0.3.0   |                                                                                                                       |
| langchain_core.tracers.schemas             | TracerSession                              | 0.1.0  | 0.3.0   |                                                                                                                       |
| langchain_core.tracers.schemas             | BaseRun                                    | 0.1.0  | 0.3.0   | Run                                                                                                                   |
| langchain_core.tracers.schemas             | LLMRun                                     | 0.1.0  | 0.3.0   | Run                                                                                                                   |
| langchain_core.tracers.schemas             | ChainRun                                   | 0.1.0  | 0.3.0   | Run                                                                                                                   |
| langchain_core.tracers.schemas             | ToolRun                                    | 0.1.0  | 0.3.0   | Run                                                                                                                   |
| langchain_core.language_models.chat_models | BaseChatModel.__call__                     | 0.1.7  | 0.3.0   | invoke                                                                                                                |
| langchain_core.language_models.chat_models | BaseChatModel.call_as_llm                  | 0.1.7  | 0.3.0   | invoke                                                                                                                |
| langchain_core.language_models.chat_models | BaseChatModel.predict                      | 0.1.7  | 0.3.0   | invoke                                                                                                                |
| langchain_core.language_models.chat_models | BaseChatModel.predict_messages             | 0.1.7  | 0.3.0   | invoke                                                                                                                |
| langchain_core.language_models.chat_models | BaseChatModel.apredict                     | 0.1.7  | 0.3.0   | ainvoke                                                                                                               |
| langchain_core.language_models.chat_models | BaseChatModel.apredict_messages            | 0.1.7  | 0.3.0   | ainvoke                                                                                                               |
| langchain_core.language_models.llms        | BaseLLM.__call__                           | 0.1.7  | 0.3.0   | invoke                                                                                                                |
| langchain_core.language_models.llms        | BaseLLM.predict                            | 0.1.7  | 0.3.0   | invoke                                                                                                                |
| langchain_core.language_models.llms        | BaseLLM.predict_messages                   | 0.1.7  | 0.3.0   | invoke                                                                                                                |
| langchain_core.language_models.llms        | BaseLLM.apredict                           | 0.1.7  | 0.3.0   | ainvoke                                                                                                               |
| langchain_core.language_models.llms        | BaseLLM.apredict_messages                  | 0.1.7  | 0.3.0   | ainvoke                                                                                                               |
| langchain_core.retrievers                  | BaseRetriever.get_relevant_documents       | 0.1.46 | 0.3.0   | invoke                                                                                                                |
| langchain_core.retrievers                  | BaseRetriever.aget_relevant_documents      | 0.1.46 | 0.3.0   | ainvoke                                                                                                               |
| langchain_core.prompts.chat                | ChatPromptTemplate.from_role_strings       | 0.0.1  |         | from_messages classmethod                                                                                             |
| langchain_core.prompts.chat                | ChatPromptTemplate.from_strings            | 0.0.1  |         | from_messages classmethod                                                                                             |
| langchain_core.tools                       | BaseTool.__call__                          | 0.1.47 | 0.3.0   | invoke                                                                                                                |
| langchain_core.utils.function_calling      | convert_pydantic_to_openai_function        | 0.1.16 | 0.3.0   | langchain_core.utils.function_calling.convert_to_openai_function()                                                    |
| langchain_core.utils.function_calling      | convert_pydantic_to_openai_tool            | 0.1.16 | 0.3.0   | langchain_core.utils.function_calling.convert_to_openai_tool()                                                        |
| langchain_core.utils.function_calling      | convert_python_function_to_openai_function | 0.1.16 | 0.3.0   | langchain_core.utils.function_calling.convert_to_openai_function()                                                    |
| langchain_core.utils.function_calling      | format_tool_to_openai_function             | 0.1.16 | 0.3.0   | langchain_core.utils.function_calling.convert_to_openai_function()                                                    |
| langchain_core.utils.function_calling      | format_tool_to_openai_tool                 | 0.1.16 | 0.3.0   | langchain_core.utils.function_calling.convert_to_openai_tool()                                                        |

### langchain

Many of these were marked for removal in 0.2. We have bumped the removal to 0.3.

| module                                                  | qualname                          | since  | removal | alternative                                                                                                      |
|:--------------------------------------------------------|:----------------------------------|:-------|:--------|:-----------------------------------------------------------------------------------------------------------------|
| langchain.agents.agent_types                            | AgentType                         | 0.1.0  | 0.3.0   | Use new agent constructor methods like create_react_agent, create_json_agent, create_structured_chat_agent, etc. |
| langchain.chains.base                                   | Chain.__call__                    | 0.1.0  | 0.3.0   | invoke                                                                                                           |
| langchain.chains.base                                   | Chain.acall                       | 0.1.0  | 0.3.0   | ainvoke                                                                                                          |
| langchain.chains.base                                   | Chain.run                         | 0.1.0  | 0.3.0   | invoke                                                                                                           |
| langchain.chains.base                                   | Chain.arun                        | 0.1.0  | 0.3.0   | ainvoke                                                                                                          |
| langchain.chains.base                                   | Chain.apply                       | 0.1.0  | 0.3.0   | batch                                                                                                            |
| langchain.chains.llm                                    | LLMChain                          | 0.1.17 | 0.3.0   | RunnableSequence, e.g., `prompt                                                                                  |
| langchain.agents.agent                                  | LLMSingleActionAgent              | 0.1.0  | 0.3.0   | Use new agent constructor methods like create_react_agent, create_json_agent, create_structured_chat_agent, etc. |
| langchain.agents.agent                                  | Agent                             | 0.1.0  | 0.3.0   | Use new agent constructor methods like create_react_agent, create_json_agent, create_structured_chat_agent, etc. |
| langchain.agents.openai_functions_agent.base            | OpenAIFunctionsAgent              | 0.1.0  | 0.3.0   | create_openai_functions_agent                                                                                    |
| langchain.agents.mrkl.base                              | ZeroShotAgent                     | 0.1.0  | 0.3.0   | create_react_agent                                                                                               |
| langchain.agents.mrkl.base                              | MRKLChain                         | 0.1.0  | 0.3.0   |                                                                                                                  |
| langchain.agents.conversational.base                    | ConversationalAgent               | 0.1.0  | 0.3.0   | create_react_agent                                                                                               |
| langchain.agents.conversational_chat.base               | ConversationalChatAgent           | 0.1.0  | 0.3.0   | create_json_chat_agent                                                                                           |
| langchain.agents.chat.base                              | ChatAgent                         | 0.1.0  | 0.3.0   | create_react_agent                                                                                               |
| langchain.agents.openai_functions_multi_agent.base      | OpenAIMultiFunctionsAgent         | 0.1.0  | 0.3.0   | create_openai_tools_agent                                                                                        |
| langchain.agents.react.base                             | ReActDocstoreAgent                | 0.1.0  | 0.3.0   |                                                                                                                  |
| langchain.agents.react.base                             | DocstoreExplorer                  | 0.1.0  | 0.3.0   |                                                                                                                  |
| langchain.agents.react.base                             | ReActTextWorldAgent               | 0.1.0  | 0.3.0   |                                                                                                                  |
| langchain.agents.react.base                             | ReActChain                        | 0.1.0  | 0.3.0   |                                                                                                                  |
| langchain.agents.self_ask_with_search.base              | SelfAskWithSearchAgent            | 0.1.0  | 0.3.0   | create_self_ask_with_search                                                                                      |
| langchain.agents.self_ask_with_search.base              | SelfAskWithSearchChain            | 0.1.0  | 0.3.0   |                                                                                                                  |
| langchain.agents.structured_chat.base                   | StructuredChatAgent               | 0.1.0  | 0.3.0   | create_structured_chat_agent                                                                                     |
| langchain.chains.retrieval_qa.base                      | RetrievalQA                       | 0.1.17 | 0.3.0   | create_retrieval_chain                                                                                           |
| langchain.agents.loading                                | load_agent_from_config            | 0.1.0  | 0.3.0   |                                                                                                                  |
| langchain.agents.loading                                | load_agent                        | 0.1.0  | 0.3.0   |                                                                                                                  |
| langchain.agents.initialize                             | initialize_agent                  | 0.1.0  | 0.3.0   | Use new agent constructor methods like create_react_agent, create_json_agent, create_structured_chat_agent, etc. |
| langchain.agents.xml.base                               | XMLAgent                          | 0.1.0  | 0.3.0   | create_xml_agent                                                                                                 |
| langchain.retrievers.document_compressors.cohere_rerank | CohereRerank                      | 0.0.30 | 0.3.0   | langchain_cohere.CohereRerank                                                                                    |
| langchain.chains.conversational_retrieval.base          | ConversationalRetrievalChain      | 0.1.17 | 0.3.0   | create_history_aware_retriever together with create_retrieval_chain (see example in docstring)                   |
| langchain.chains.openai_tools.extraction                | create_extraction_chain_pydantic  | 0.1.14 | 0.3.0   | with_structured_output method on chat models that support tool calling.                                          |
| langchain.chains.structured_output.base                 | create_openai_fn_runnable         | 0.1.14 | 0.3.0   | with_structured_output method on chat models that support tool calling.                                          |
| langchain.chains.structured_output.base                 | create_structured_output_runnable | 0.1.17 | 0.3.0   | with_structured_output method on chat models that support tool calling.                                          |
| langchain.chains.openai_functions.base                  | create_openai_fn_chain            | 0.1.1  | 0.3.0   | create_openai_fn_runnable                                                                                        |
| langchain.chains.openai_functions.base                  | create_structured_output_chain    | 0.1.1  | 0.3.0   | ChatOpenAI.with_structured_output                                                                                |
| langchain.chains.openai_functions.extraction            | create_extraction_chain           | 0.1.14 | 0.3.0   | with_structured_output method on chat models that support tool calling.                                          |
| langchain.chains.openai_functions.extraction            | create_extraction_chain_pydantic  | 0.1.14 | 0.3.0   | with_structured_output method on chat models that support tool calling.                                          |
